<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Using RStudio with the JupyterHub</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.6/header-attrs.js"></script>
    <script src="libs/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="libs/shareon-1.4.1/shareon.min.css" rel="stylesheet" />
    <script src="libs/shareon-1.4.1/shareon.min.js"></script>
    <link href="libs/xaringanExtra-shareagain-0.2.4/shareagain.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-shareagain-0.2.4/shareagain.js"></script>
    <link rel="stylesheet" href="jupyter.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Using RStudio with the JupyterHub
## Get started in a gif-y
### University of Toronto
### Winter 2021 <br> .small[(last updated: 2021-01-09)]

---

class: center, middle

<style>.shareagain-bar {
--shareagain-foreground: rgb(255, 255, 255);
--shareagain-background: rgba(0, 0, 0, 0.5);
--shareagain-twitter: none;
--shareagain-facebook: none;
--shareagain-linkedin: none;
--shareagain-pinterest: none;
--shareagain-pocket: none;
--shareagain-reddit: none;
}</style>



&lt;img src="img/logo.png" width="70%" /&gt;

The JupyterHub is a way to access Python Notebooks and RStudio without needing to install anything on your personal devices.

All the gifs in these slides are also in a [video format on MS Stream](https://web.microsoftstream.com/video/cdac6c6d-0a61-4cf1-843b-9c0b0c8b22ca) if you would prefer to watch it there. (There is no spoken audio.)

### [Link: jupyter.utoronto.ca](https://jupyter.utoronto.ca)


---
### Logging in

.left-column[
.midi[
1. Go to [jupyter.utoronto.ca](https://jupyter.utoronto.ca).
1. If you *are NOT logged in to your U of T account* in that browser, click 'Log in to Continue' and log in through the single sign on as usual.
1. If you *ARE logged in to your U of T account* in that browser, **select RStudio** before clicking 'Log in to start. This will open RStudio right away and you can skip the next step.
1. Click 'New' and select RStudio from the drop-down menu.
]
]

.right-column[

&lt;img src="img/logingin.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
### Setting up your folders

.small[.footnote[Note: if you're using R projects (see next slide) a lot, I'd actually suggest naming assignment/activity folders as follows: **coursecode_assignment**, e.g. "STA303_a1". *Why?* Then when you look through recent project from the project menu, you don't want to have 3 different "Assignment1"s. Projects are automatically named after their folder.]]

.left-column[
- If you're using the JupyterHub for several courses, you'll want to come up with a sensible file and folder structure.
]

.right-column[

&lt;img src="img/files.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
### R projects

.left-column[
- R projects can be a really helpful part of your workflow. 
- Learn more about them here in [*Chapter 8 of R for Data Science*](https://r4ds.had.co.nz/workflow-projects.html). 
- See the footnote on the previous slide for a consideration when naming your files. 
]

.right-column[

&lt;img src="img/project.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
### Opening new files

.small[
.footnote[To open a new R script (.R) the keyboard shortcut is	Ctrl+Shift+N /	Cmd+Shift+N (except on Chrome/Windows) or 	Ctrl+Alt+Shift+N /	Cmd+Shift+Alt+N (Chrome only). [More shortcuts here](https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts).]]

.left-column[
- You can create a new R Notebook or other R Markdown files or an R script from the Files menu.
- RMarkdown is a great way to have your code, visualizations and commentary all in one place. Learn more in the [*Definitive Guide*](https://bookdown.org/yihui/rmarkdown/) and download the handy [**cheatsheet**](https://rstudio.com/resources/cheatsheets/)
]

.right-column[

&lt;img src="img/openfile.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="img/rmarkdown_wizards.png" alt="Artwork by @allison_horst" width="90%" /&gt;
&lt;p class="caption"&gt;Artwork by @allison_horst&lt;/p&gt;
&lt;/div&gt;

---
### Uploading files from your local computer to JupyterHub

.left-column[
- Upload data and other required files in the **Files** pane.
- If you have multiple files, zip/compress them locally before uploading them. They will automatically be unzipped for you. You can't select multiple files in the uploader.
]

.right-column[

&lt;img src="img/upload.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
### Using a sharing link

.left-column[
- If you have been given a sharing link, an are logged in to your U of T account, clicking it should open RStudio for you.
  - [Here is an example](https://jupyter.utoronto.ca/hub/user-redirect/git-pull?repo=https%3A%2F%2Fgithub.com%2Felb0%2Fjupyterexample&amp;urlpath=rstudio%2F&amp;branch=main).
- You'll notice that the same files that were previously open will be opened again, not necessarily the file you want. 
- Navigate to 'Home' and you'll see the new folder there.
]

.right-column[

&lt;img src="img/sharinglink.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
### Moving files

.left-column[
- You can move files and folders around to keep things organised.
- Click 'More' in the Files pane.
- Navigate to where you want to move the file and click 'Choose'.
]

.right-column[

&lt;img src="img/moving.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
#### A note on sharing links: getting back original files/updates from your instructor

If you want to get back original copies of any files, or your instructor updates the files for an assessment or activity, you can get/update these files by re-clicking the original provided sharing link. This will not overwrite your own work.

*If you've renamed your working folder or moved it into a subfolder*: Click the sharing link again. A new copy of the whole folder will appear in your Home folder. Move the files you want to the subfolder you are working in (see the previous slide). 

*If you haven't moved your working folder out of the Home folder nor renamed it*: Rename any files you have already worked on, for which you want to get the original. Click the sharing link again. Any new or missing files will now appear in your folder.
---
### Knitting Rmd files in RStudio

.left-column[
- When working with an R Markdown file (.Rmd) would will usually need to **Knit** to another format, such as PDF or HTML.
- Click the 'Knit' button, or if that isn't showing, there should be a down arrow next to 'Preview' that lets you choose the knitted file type.
]

.right-column[

&lt;img src="img/knitting.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
### Exporting files from JupyterHub to your local computer

.left-column[
- Tick the files you wish to export (i.e. download to your personal machine).
- Go to the 'More' menu in the Files pane and select 'Export'.
- If you are exporting multiple files, they will export in a .zip file. I suggest giving it a meaningful name and then clicking 'Download'.
]

.right-column[

&lt;img src="img/exporting.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
### Troubleshooting

.left-column[
.midi[
- Your session will time out after a period of inactivity. Refresh to reconnect.
- You can't have multiple RStudio windows open with the JupyterHub. You'll get a message that the old session has been disconnected when you open a new one.
- If you get out of RStudio you can get back in through the 'New' menu and then navigate using the Files pane or open a recent project.
]]

.right-column[

&lt;img src="img/troubleshooting.gif" width="100%" style="display: block; margin: auto;" /&gt;

]

---
## A note about installing packages

There are several packages already installed for you on the JupyterHub.  E.g. you can run `library(tidyverse)` without installing tidyverse first.

If you have to install a package (i.e. use `install.packages("packagename")`) it will only remain installed for the duration of your session. That is, when you come back the next day, you will have to install it again. If you have experience with RStudio locally, this will be a bit different. If you get an error saying '`there is no package called`...' you probably need to re-add / un-comment the `install.packages()` part of your code.

---
class: center, middle

# Big thanks to the team working on this!

This is a proof of concept service, developed as a partnership between the Office of the CIO (Information Technology Services), the Faculty of Arts &amp; Scienceâ€™s new Computational and Data Science Education initiative, the 2i2c Consortium, and Microsoft Canada.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
